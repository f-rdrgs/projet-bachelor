
| Date       | Travail à réaliser                                           | Travail effectué                                             | Problèmes rencontrés                                         | Commentaires                                                 |
| ---------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 13.05.2024 | Rédaction de l'énoncé                                        | L'énoncé a été rédigé presque entièrement                    | -                                                            | -                                                            |
| 14.05.2024 | Fin rédaction de l'énoncé + Définition de l'architecture et technologies nécessaires + début mise en place Base de données | Une base de donnée a été crée en Postgres et dockerisée dans un docker compose pour diviser le projet en 3 services : API, BDD et Chatbot | -                                                            | Prochaine fois : Commencer à réfléchir sur la logique du Chatbot (Faire des scénarios) et dockeriser l'API FastAPI ? |
| 15.05.2024 | Mise en place d'une API basique dockerisée pour communiquer avec le chatbot + dockerisation du chatbot basique | Application de base dockerisée (Rasa bot + Base de données + API) | Complications à dockeriser les applications + Soucis à envoyer un simple "hello" depuis l'API | Fix les soucis de communication entre les containers en utilisant leur nom de service et non plus leur IP (La résolution d'adresse se fait par le nom de service) |
| 16.05.2024 | Définition générale des tâches à réaliser + Début définition système de réservation basique | Peaufinagede la dockerisation + rédaction de tâches futures à réaliser + issues sur GIT |                                                              |                                                              |
| 17.05.2024 | Continuation définition système de réservation basique       | Rédaction d'une story générale et réflexion sur comment commencer à structurer la story basique | -                                                            | Se renseigner sur **Fallback** dans Rasa, peut être utilise lorsque le bot ne comprends pas ce que l'utilisateur a dit |
| 19.05.2024 | Début code story simple                                      | Mise en place fichiers de base et réflection sur la réalisation | -                                                            | -                                                            |
| 20.05.2024 | Continuer le travail de la veille                            | Temps passé à chercher davantage d'infos sur l'utilisation de Fallbacks ou de checks sur les données fournies + réappropriation du fonctionnement de stories avec Rasa et de comment créer les premières stories | -                                                            | Faire une implémentation le lendemain d'une réservation très basique ne contenant pas de tests particuliers, ajouter les gestions d'erreurs d'entrées user après coup |
| 21.05.2024 | Pareil que la veille                                         | Réservation en mémoire d'une ressource en dur. Des fallbacks sont présents c'est à dire le fait d'afficher un message d'erreur si le bot ne comprends pas | Complications à mettre le form en place car si des intents sont similaires, cela va mettre fin au form et empêcher la réservation de ressources. De ce fait, on peut que commencer par "Je souhaite réserver" au lieu de directement dire "Je souhaite réserver \<ressource\>" | La prochaine fois essayer de régler le soucis de réservation avec directement "Je souhaite réserver un terrain de tennis" en entrée de message au bot |
| 22.05.2024 | Fix réservation "Je souhaite réserver un terrain de \<sport\>" | La réservation comme spécifiée à l'air de marcher bien que des soucis en lien avec les slots persistent toujours | Beaucoup de fine tuning avec la config qui faisait qu'à un moment tout marchait plus ou moins ou rien ne marchait et le message fallback "Veuillez reformuler votre message" était toujours ressorti | -                                                            |
| 23.05.2024 | Tenter de faire fonctionner mieux la réservation en entrée et de mettre en place la réservation de temps et possiblement intéragir avec la base de données | Pas encore réussi à faire fonctionner le système             | Énormément de soucis car la plupart des use cases résultent en un Fallback | -                                                            |
| 24.05.2024 | Faire fonctionner le système de réservation basique in-memory | Après presque 2 jours nonstop, le système fonctionne à présent bien que pas tous les cas sont gérés et un début de parsing avec Duckling est entamé | Tout le système qui ne fonctionnait pas et demandait un fine tuning de la config, des stories, des rules et des intents de manière assez minutieuse sinon ça ne marchait pas pour des raisons que j'ignore. | Entâmer pour de vrai la validation des dates et heures selon ce qui est présent dans la BDD est possible grâce au fait que le système est fonctionnel |
| 25.05.2024 | Validation dates et heures par Duckling + récupération informations ressources, dates et heures depuis la BDD + ajout quelques données pour la BDD | Création début dataset DB et test remplissage database       | -                                                            | -                                                            |
| 26.05.2024 | Avancer script d'insertion de données depuis fichier CSV     | Script de remplissage fait sauf mise en place de clés étrangères | -                                                            | -                                                            |
| 27.05.2024 | Ajout routes dans l'API pour récupérer divers informations   | Divers routes pour récupérer les ressources, jours de la semaine disponible pour une ressource et horaires de disponible pour un jour de la semaine pour une ressource + Implémentation d'appel de route de ressource et jours semaine par chatbot | -                                                            | Ajouter le fait de valider la date passée par l'utilisateur grâce à duckling pour récupérer le jour de la semaine et afficher les heures correspondantes + ajouter divers validations d'entrée user |
| 28.05.2024 | Ajouter validation date heure avec duckling et autres validations d'entrées | La validation de dates et heures grâce à des communications avec duckling et la bdd ont été réalisées + début de tentative de gestion de cas hors context lors de la réservation de ressources | Toujours des soucis d'actions qui s'exécutent alors qu'elles ne devaient pas ou autre retours de Rasa imprévus | Commencer la mise en place de stockage de la réservation dans la BDD et ensuite mettre à jour les dates et ressources proposées selon la disponibilité des ressources et réservations existantes |
| 29.05.2024 | Ajout dernières infos comme numéro téléphone et mettre en palce stockage de la réservation dans la BDD | Restructuration quasi complète du système de réservation coté chatbot (encore) mais qui est fonctionnel cette fois | -                                                            | Faire attention au fait que parfois lorsque le prénom est entré il y a des soucis + parfois l'erreur `File "/app/actions/actions.py", line 304, in validate_date<br/>    date_duckling = res_json[index]["value"]["value"]` survient (pas encore compris pourquoi). Commencer avec ce qui est existant insertion dans BDD |
| 30.05.2024 | Implémenter insertion de réservations dans la BDD            | La réservation depuis l'API et le chatbot a été implémentée  | -                                                            | Rendre l'intéraction avec l'API plus propre + commencer à voir pour empêcher des réservations à la même heure au même jour |
| 31.05.2024 | Pas grand chose aujourd'hui sauf démo avec professeur attitré | Fix d'un bug étrange où le numéro de téléphone était envoyé en INT au lieu de string à l'API résultant en une erreur 422 unprocessable entity | -                                                            | Faire en sorte de rendre l'intéraction moins séquentielle si possible et de pouvoir faire des "Je voudrais réserver un terrain de tennis" directement et moins de confirmations |
| 01.06.2024 | Entâmer la mise en place du système assurant qu'aucune réservation n'est faite au même jour même heure | Récupérations des heures disponibles selon les réservations pour une ressource au jour donné | -                                                            | Faire en sorte qu'une date n'apparaisse pas si toutes les heures sont réservées et si aucune heure ne convient à l'utilisateur de pouvoir revenir en arrière à un choix de dates (Faire usage d'une options spécifique qui va reset les slots Dates ?) |
| 03.06.2024 | Mettre à jour dynamiquement les dates reçues selon les réservations et pouvoir annuler choix dates si aucune convient | Les dates reçues sont bien toutes des dates ayant encore des heures disponibles | -                                                            | Faire une restructuration de code + commenter pour rendre le tout plus clair et mettre en place le fait de pouvoir revenir en arrière lors du choix des dates |
| 04.06.2024 | Restructuration du code et ajout de commentaires             | Du fait de quelques imprévus hors projet seul une légère restructuration a été faite | -                                                            | Ajout de commentaires le lendemain + ajout retour arrière dans choix dates si aucune heure ne convient + réfléchir à un moyen de rendre la conversation plus fluide et moins linéaire si possible |
| 05.06.2024 | Ajout commentaires + gestion choix dates                     | Des commentaires ont été ajouté dans divers composants du chatbot | -                                                            | Le choix de date était déjà possible sans avoir besoin d'explictement dire que l'on souhaitait revenir en arrière |
| 06.06.2024 | Modification story pour rendre le choix de dates/heures moins séquentiel | Code refactorisé + réflexion implémentation choix date/heure | -                                                            | -                                                            |
| 07.06.2024 | Implémentation non séquentialité réservation                 | Possibilité de réserver une heure et après une date          | -                                                            | Voir s'il ne serait pas intéressant de mettre en place une réservation comme "Un mardi à xxhxx" |
| 09.06.2024 | Réparer quelque soucis avec le choix heure avant dates       | Soucis réglés + réfléxion à la manière de gérer divers cas pour rendre la conversation moins séquentielle + début recherche bot Telegram | -                                                            | -                                                            |
| 10.06.2024 | Continuer les implémentations  non séquentielles             | il est possible d'entâmer la conversation avec "je voudrais réserver <ressource", de correctement choisir une heure puis date ou inversément et d'annuler le choix heure/date + début implémentation réservation temporaire | -                                                            | Considérer l'ajout d'options pouvant être choisies pour une réservation donnée (ajouter nouvelle table dans la DB par conséquent) |
| 12.06.2024 | Implémenter réservation simultanée avec pré-réservation temporaire | Les pré-réservations sont implémentées coté API et tout horaires récupérés veront les heures déjà prises en pré-réserv. retirées | -                                                            | Reste qu'à implémenter l'ajout de pré-réserv. coté client avec de potentiels messages si en pleine réservations une heure a été prise et demander recommancer réservation |
| 13.06.2024 | Ajout pré-réservation coté chatbot                           | Changement Database pour éviter réservations à double à même heure + ajout réservation temporaire coté chatbot + màj dynamique des réservations en prenant en compte les rés. temporaires | -                                                            | -                                                            |
| 14.06.2024 | Commencer à implémenter options de réservation               | La DB a été modifiée pour y ajouter des tables d'options et choix de ressources + les slots et forms nécessaires ont été ajoutés au chatbot + données de test de choix + classes nécessaires à l'ORM dans l'API | -                                                            | -                                                            |
| 15.06.2024 | Continuer implémentation des choix                           | Une route de récupération des choix à été ajoutée à l'API    | -                                                            | -                                                            |
| 16.06.2024 | Idem qu'hier                                                 | La story principale a été modifiée de sorte à inclure le form de choix d'options + ajout des Actions nécessaires à la récupération des options | -                                                            | Manque le fait d'enregistrer les choix dans la DB + le fait de confirmer les choix |
| 17.06.2024 | Mettre en place la sauvegarde des choix et confirmation dans la story | La db et api ont été encore modifiées pour incorporer l'ajout des choix faits pour une réservation (Il faut cependant modifier le code vu que pas toutes les ressources auront des choix à faire) + début ajout choix à la réservation coté chatbot | -                                                            | -                                                            |
| 19.06.2024 | Finir implémentation choix ressource + commencer à documenter | Ajout réservation du choix coté chatbot + fix soucis rencontrés si une ressource ne possède pas de choix à faire + début documentation projet | -                                                            | -                                                            |
| 20.06.2024 | Documenter                                                   |                                                              |                                                              |                                                              |