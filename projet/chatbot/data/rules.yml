version: "3.1"

rules:
# https://rasa.com/docs/rasa/forms/#deactivating-a-form
- rule: Submit form ressource
  condition:
  # Condition that form is active.
    - active_loop: get_ressource_form
  steps:
  # Form is deactivated
  - action: get_ressource_form
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: utter_ressource
  wait_for_user_input: false
  # The actions we want to run when the form is submitted.
  # - action: utter_submit
  # - action: utter_slots_values


# https://rasa.com/docs/rasa/fallback-handoff/#nlu-fallback
- rule: Ask the user to rephrase whenever they send a message with low NLU confidence
  steps:
  - intent: nlu_fallback
  - action: utter_please_rephrase
